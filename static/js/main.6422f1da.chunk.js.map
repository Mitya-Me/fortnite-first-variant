{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","config.js","reducer.js","context.js","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Basket.jsx","components/CartListItem.jsx","components/CartList.jsx","components/Alert.jsx","components/Main.jsx","App.js","index.js"],"names":["Header","className","Footer","reducer","state","type","payload","goods","loading","alertName","itemIndex","order","findIndex","orderItem","id","newOrder","newItem","quantity","map","index","name","el","newQuantity","filter","isBasketShow","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","addToCart","item","removeItem","itemId","incrementQty","decrementQty","handleBasketShow","setGoods","data","Provider","Preloader","GoodsItem","props","description","price","full_background","useContext","src","alt","onClick","GoodsList","length","Basket","reduce","sum","curr","CartListItem","CartList","totalPrice","Alert","useEffect","timerId","setTimeout","clearTimeout","Main","fetch","headers","Authorization","process","then","response","json","featured","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6422f1da.chunk.js","sourcesContent":["export default function Header() {\r\n    return <div className='header'> FORTNITE SHOP</div>;\r\n}\r\n","export default function Footer() {\r\n    return <div className='footer'>Footer</div>;\r\n}\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = \"https://fortniteapi.io/v1/shop?lang=en\";\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","export function reducer(state, { type, payload }) {\r\n    switch (type) {\r\n        case 'SET_GOODS':\r\n            return {\r\n                ...state,\r\n                goods: payload || [],\r\n                loading: false,\r\n            }\r\n\r\n        case 'CLOSE_ALERT':\r\n            return {\r\n                ...state,\r\n                alertName: ''\r\n            }\r\n        \r\n        case 'ADD_TO_CART': {\r\n            let itemIndex = state.order.findIndex(\r\n                orderItem => orderItem.id === payload.id\r\n            );\r\n\r\n            let newOrder = null;\r\n            if (itemIndex < 0) {\r\n                const newItem = {\r\n                    ...payload,\r\n                    quantity: 1\r\n                }\r\n                newOrder = [...state.order, newItem]\r\n                \r\n            } else { \r\n                newOrder = state.order.map((orderItem, index) => {\r\n                    if (index === itemIndex) {\r\n                        return {\r\n                            ...orderItem,\r\n                            quantity: orderItem.quantity + 1,\r\n                        }\r\n                    } else {\r\n                        return orderItem;\r\n                    }\r\n                })\r\n            }\r\n    \r\n            return {\r\n                ...state,\r\n                order: newOrder,\r\n                alertName: payload.name\r\n            }\r\n        }\r\n            \r\n        case 'INCREMENT_QTY':\r\n            return {\r\n                ...state,\r\n                order: state.order.map(el => {\r\n                    if (el.id === payload.id) {\r\n                        const newQuantity = el.quantity + 1;\r\n                        return {\r\n                            ...el,\r\n                            quantity: newQuantity,\r\n                        }\r\n                    } else {\r\n                        return el;\r\n                    }\r\n                })\r\n            }\r\n        \r\n        case 'DECREMENT_QTY':\r\n            return {\r\n                ...state,\r\n                order: state.order.map(el => {\r\n                    if (el.id === payload.id) {\r\n                        const newQuantity = el.quantity - 1;\r\n                        return {\r\n                            ...el,\r\n                            quantity: newQuantity >= 0 ? newQuantity : 0,\r\n                        }\r\n                    } else {\r\n                        return el;\r\n                    }\r\n                })\r\n            }\r\n        \r\n        case 'REMOVE_ITEM':\r\n            return {\r\n                ...state,\r\n                order: state.order.filter(el => el.id !== payload.id),\r\n            }\r\n        \r\n        case 'TOGGLE_BASKET':\r\n            return {\r\n                ...state,\r\n                isBasketShow: !state.isBasketShow\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { createContext, useReducer } from 'react'\r\nimport { reducer } from './reducer'\r\n\r\n\r\nexport const ShopContext = createContext();\r\n\r\n\r\nconst initialState = {\r\n    goods: [],\r\n    loading: true,\r\n    order: [],\r\n    isBasketShow: false,\r\n    alertName: '',\r\n}\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n    const [value, dispatch] = useReducer(reducer, initialState)\r\n\r\n    value.closeAlert = () => {\r\n        dispatch({type: 'CLOSE_ALERT'})\r\n    }\r\n\r\n    value.addToCart = (item) => {\r\n        dispatch({ type: 'ADD_TO_CART', payload: item})\r\n    }\r\n\r\n    value.removeItem = (itemId) => {\r\n        dispatch({ type: 'REMOVE_ITEM', payload: {id: itemId} })\r\n    } \r\n\r\n    value.incrementQty = (itemId) => {\r\n        dispatch({ type: 'INCREMENT_QTY', payload: {id: itemId}})\r\n    }\r\n\r\n    value.decrementQty = (itemId) => {\r\n        dispatch({ type: 'DECREMENT_QTY', payload: {id: itemId}})\r\n    }\r\n\r\n    value.handleBasketShow = () => {\r\n        dispatch({ type: 'TOGGLE_BASKET'})\r\n    }\r\n\r\n    value.setGoods = (data) => {\r\n        dispatch({type: 'SET_GOODS', payload: data})\r\n    }\r\n\r\n\r\n    return <ShopContext.Provider value={value}>\r\n        {children}\r\n    </ShopContext.Provider>\r\n}","import React from \"react\";\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className=\"preloader\"></div>\r\n    );\r\n};\r\n\r\nexport default Preloader;\r\n","import { useContext } from 'react'\r\nimport {ShopContext} from '../context'\r\n\r\nconst GoodsItem = (props) => {\r\n    const { id, name, description, price, full_background} = props;\r\n    \r\n    const { addToCart} = useContext(ShopContext)\r\n\r\n    return (\r\n        <div className='goods__item'>\r\n            <div className='goods__item-img'>\r\n                <img src={full_background} alt={name} />\r\n            </div>\r\n            <ul className='goods__item-info'>\r\n                <li className='goods__item-description'>{description}</li>\r\n            </ul>\r\n            <div\r\n                className='goods__item-btn btn btn--price-high'\r\n                onClick={() =>\r\n                    addToCart({\r\n                        id,\r\n                        name,\r\n                        price,\r\n                    })\r\n                }\r\n            >\r\n                {price} $\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GoodsItem;","import {useContext} from 'react';\r\nimport { ShopContext } from '../context'\r\n\r\n\r\nimport GoodsItem from \"./GoodsItem\";\r\n\r\nconst GoodsList = (props) => {\r\n    const { goods = []} = useContext(ShopContext);\r\n\r\n    if (!goods.length) {\r\n        return <h1>Nothing here</h1>;\r\n    }\r\n\r\n    return (\r\n        <div className='goods'>\r\n            {goods.map((item) => (\r\n                <GoodsItem\r\n                    key={item.id}\r\n                    {...item}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GoodsList;\r\n","import { useContext } from 'react'\r\nimport {ShopContext } from '../context'\r\n\r\nconst Basket = () => {\r\n    const { order = [], handleBasketShow } = useContext(ShopContext);\r\n\r\n    return (\r\n        <div className='basket' onClick={handleBasketShow}>\r\n            <div className='basket__img'>\r\n                <span className='basket__count'>\r\n                    {order.length === 0\r\n                        ? null\r\n                        : order.map((item) => item.quantity).reduce((sum, curr) => sum + curr)}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Basket;\r\n","import React, {useContext} from \"react\";\r\nimport {ShopContext} from \"../context\"\r\n\r\n\r\nconst CartListItem = (props) => {\r\n    const {\r\n        id, name, price,\r\n        quantity, full_background,\r\n    } = props;\r\n\r\n    const { removeItem, incrementQty, decrementQty } = useContext(ShopContext)\r\n    \r\n\r\n    return (\r\n        <div className='cartlist__item item-classlist'>\r\n            <div>\r\n                <img src={full_background} alt=\"\" />\r\n            </div>\r\n            <div className='item-classlist__descr-top'>\r\n                <span className='item-classlist__price'> ${price * quantity} </span>\r\n                <span className='item-classlist__name'> {name} </span>\r\n                <span\r\n                    onClick={() => removeItem(id)}\r\n                    className='item-classlist__remove'> X </span>\r\n            </div>\r\n            <div className='item-classlist__descr-bot'>\r\n                <div className='item-classlist__qty'>\r\n                    qty:\r\n                    <span\r\n                        onClick={() => incrementQty(id)}\r\n                        className='item-classlist__qty-btn'> + </span>\r\n                    {quantity}\r\n                    <span\r\n                        onClick={() => decrementQty(id)}\r\n                        className='item-classlist__qty-btn'> - </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartListItem;\r\n","import CartListItem from \"./CartListItem\";\r\n\r\nimport {useContext} from \"react\";\r\nimport {ShopContext} from \"../context\"\r\n\r\n\r\nconst CartList = (props) => {\r\n    const { order = [], handleBasketShow,} = useContext(ShopContext);\r\n\r\n    const totalPrice = order.reduce(\r\n        (sum, curr) => sum + curr.price * curr.quantity,\r\n        0\r\n    );\r\n\r\n    return (\r\n        <div className='cartlist'>\r\n            <div className='cartlist__wrapper'>\r\n                <h3 className='cartlist__title'> MY BAG</h3>\r\n\r\n                <div className='cartlist__items'>\r\n                    {order.length ? (\r\n                        order.map((item) => (\r\n                            <CartListItem\r\n                                key={item.id}\r\n                                {...item}\r\n                            />\r\n                        ))\r\n                    ) : (\r\n                        <li>YOUR BASKET IS EMPTY</li>\r\n                    )}\r\n                </div>\r\n\r\n                <div className='cartlist__total-price'>\r\n                    TOTAL PRICE:\r\n                    <span>\r\n                        {order.length ? totalPrice : null}$\r\n                    </span>\r\n                </div>\r\n\r\n                <button className='btn-close' onClick={handleBasketShow}>\r\n                    X\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartList;\r\n","import {useEffect, useContext} from 'react'\r\nimport { ShopContext} from '../context'\r\n\r\nconst Alert = (props) => {\r\n    const { closeAlert, alertName } = useContext(ShopContext);\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 1000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        }\r\n    }, [alertName]);\r\n\r\n    return (\r\n        <div className='alert'>\r\n            {alertName} added\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Alert\r\n","import { useEffect, useContext } from \"react\";\r\nimport { API_URL, API_KEY } from \"../config\";\r\n\r\nimport { ShopContext } from \"../context\";\r\n\r\nimport Preloader from \"./Preloader\";\r\nimport GoodsList from \"./GoodsList\";\r\nimport Basket from \"./Basket\";\r\nimport CartList from \"./CartList\";\r\nimport Alert from \"./Alert\";\r\n\r\nconst Main = () => {\r\n    const { loading, order, setGoods, alertName, isBasketShow } =\r\n        useContext(ShopContext);\r\n\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                Authorization: API_KEY,\r\n            },\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                setGoods(data.featured);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <div className='wrapper'>\r\n            <div className='main'>\r\n                <Basket order={order} />\r\n                {loading ? <Preloader /> : <GoodsList />}\r\n                {isBasketShow && <CartList />}\r\n                {alertName && <Alert />}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import Header from './components/Header'\nimport Footer from './components/Footer'\nimport Main from './components/Main'\n\nimport { ContextProvider } from './context'\n\nimport './scss/app.scss';\n\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Main />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './scss/app.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}